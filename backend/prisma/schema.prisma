model Company {
  id        String   @id @default(uuid())
  name      String   @unique
  website   String?
  createdAt DateTime @default(now())
  opportunities Opportunity[]
}

model Category {
  id    String   @id @default(uuid())
  name  String   @unique
  opportunities Opportunity[]
}

model Skill {
  id    String   @id @default(uuid())
  name  String   @unique
  tags  OpportunityTag[]
}

model Opportunity {
  id          String   @id @default(uuid())
  title       String
  description String
  eligibility String?
  link        String
  deadline    DateTime
  status      Status
  verified    Boolean  @default(false)
  isFree      Boolean  @default(false)
  difficulty  Difficulty

  company   Company   @relation(fields: [companyId], references: [id])
  companyId String

  category   Category @relation(fields: [categoryId], references: [id])
  categoryId String

  tags OpportunityTag[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model OpportunityTag {
  opportunity   Opportunity @relation(fields: [opportunityId], references: [id])
  opportunityId String

  skill   Skill @relation(fields: [skillId], references: [id])
  skillId String

  @@id([opportunityId, skillId])
}

enum Status {
  active
  closing_soon
  expired
}

enum Difficulty {
  beginner
  intermediate
  advanced
}
